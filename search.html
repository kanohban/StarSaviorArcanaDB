<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스타 세이비어 아르카나 DB - 통합 검색</title>
    <link rel="stylesheet" crossorigin href="./assets/index-DBwFzK5i.css">
    <link rel="stylesheet" href="./assets/header.css">
    <link rel="stylesheet" href="./assets/search.css">
</head>

<body>
    <div id="header-container"></div>

    <main class="search-container">
        <div class="search-box-wrapper">
            <input type="text" id="search-input" placeholder="카드 이름, 이벤트 내용, 효과 등을 검색하세요..." autocomplete="off">
            <div class="search-filters">
                <label class="filter-checkbox">
                    <input type="checkbox" id="filter-card" checked>
                    <span>아르카나 카드</span>
                </label>
                <label class="filter-checkbox">
                    <input type="checkbox" id="filter-journey" checked>
                    <span>여정 이벤트</span>
                </label>
            </div>
        </div>

        <div id="search-results" class="results-grid">
            <!-- Results will be injected here -->
            <div class="empty-state">검색어를 입력해주세요.</div>
        </div>
    </main>

    <!-- Modal Structure -->
    <div id="card-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div class="modal-content-body">
                <!-- Dynamic Content -->
            </div>
        </div>
    </div>

    <footer id="footer-container"></footer>

    <script src="./assets/header_manager.js?v=3.3.4"></script>
    <script src="./assets/footer_manager.js"></script>
    <script src="./assets/hangul_utils.js?v=3.3.4"></script>
    <script src="./assets/search_service.js?v=3.3.4"></script>
    <script src="./assets/search_manager.js?v=3.3.4"></script>
    <script>
        // Initialize State from LocalStorage (Immediate Apply)
        (function () {
            const html = document.documentElement;
            const body = document.body;

            const savedTheme = localStorage.getItem('theme') || 'dark';
            html.setAttribute('data-theme', savedTheme);

            const savedView = localStorage.getItem('viewMode') || 'pc';
            if (savedView === 'mobile') {
                body.classList.add('mobile-mode');
            }
        })();

        // Initialize Header & Footer
        document.addEventListener('DOMContentLoaded', () => {
            if (window.HeaderManager) {
                window.HeaderManager.init(document.getElementById('header-container'), 'search');
            }
            if (window.FooterManager) {
                window.FooterManager.init(document.getElementById('footer-container'));
            }
        });
    </script>
</body>

</html>